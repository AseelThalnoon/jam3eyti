:root {
  --bg:#0f172a;
  --fg:#e2e8f0;
  --muted:#94a3b8;
  --card:#0b1220;
  --panel:#111827;
  --accent:#22c55e;
  --accent-2:#16a34a;
  --danger:#ef4444;
  --border:#1f2937;
  --focus:#1e293b;
  --shadow: 0 8px 24px rgba(0,0,0,.35);
}

* { box-sizing: border-box; }
html,body { margin:0; padding:0; background:var(--bg); color:var(--fg); font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Noto Naskh Arabic", "IBM Plex Sans Arabic", Arial, sans-serif; }

.app-bar {
  padding:12px 16px; background:#0b1220; border-bottom:1px solid var(--border);
  position:sticky; top:0; z-index:20; display:flex; align-items:center; justify-content:space-between; gap:12px;
}
.brand { display:flex; align-items:center; gap:10px; }
.logo { width:28px; height:28px; flex:0 0 28px; }
.app-bar h1 { margin:0; font-size:18px; letter-spacing:.2px; }
.actions-right { display:flex; align-items:center; gap:8px; width:min(420px,50%); }
.search {
  width:100%; padding:10px 12px; border-radius:10px; border:1px solid var(--border); background:var(--panel); color:var(--fg);
}
.search:focus { outline:2px solid var(--focus); }

.container { max-width: 980px; margin: 16px auto; padding: 0 12px; }

.card {
  background: var(--card); border:1px solid var(--border); border-radius:14px; padding:16px; margin-bottom:14px;
  box-shadow: var(--shadow);
}
.card-head { display:flex; justify-content:space-between; align-items:center; gap:10px; }
.card h2, .card h3 { margin: 0 0 12px; }

.grid { display:grid; grid-template-columns: repeat(2, minmax(0,1fr)); gap:12px; }
@media (max-width:640px) { .grid { grid-template-columns: 1fr; } }

label { display:flex; flex-direction:column; gap:6px; font-size:14px; color:var(--muted); }
input, select {
  padding:12px; border-radius:12px; border:1px solid var(--border); background:var(--panel); color:var(--fg);
  transition: border-color .15s ease, background .15s ease, transform .05s ease;
}
input:focus, select:focus { outline:2px solid var(--focus); }
input:active, select:active { transform: translateY(1px); }

small.hint { color: var(--muted); margin-top:4px; font-size:12px; min-height: 16px; display:block; }
.error { color:#fda4af; min-height:16px; font-size:12px; }

.btn {
  padding:11px 14px; border-radius:12px; border:1px solid var(--border);
  background:var(--panel); color:#fff; cursor:pointer; transition:transform .05s ease, filter .15s ease;
}
.btn:hover { filter: brightness(1.05); }
.btn:active { transform: translateY(1px); }
.btn.primary { background:var(--accent); color:#08110a; border-color:transparent; font-weight:600; }
.btn.danger { background:var(--danger); color:#1b0707; border-color:transparent; font-weight:600; }
.btn[disabled]{ opacity:.55; cursor:not-allowed; }

.list { display:flex; flex-direction:column; gap:10px; }
.list .item {
  display:flex; justify-content:space-between; align-items:center; gap:12px;
  padding:12px; background:var(--panel); border:1px solid var(--border); border-radius:12px;
  transition: transform .05s ease, background .15s ease;
}
.list .item:hover { background:#0f1a2d; }
.item .meta { color:var(--muted); font-size:13px; display:flex; gap:10px; flex-wrap:wrap; }

.hidden { display:none; }

.table { width:100%; border-collapse: collapse; }
.table th, .table td { border-top:1px solid var(--border); padding:10px; text-align:right; vertical-align: top; }
.table thead th { color:var(--muted); font-weight:600; }
.table tbody tr:hover { background:#0f1a2d; }

.details-header { display:flex; justify-content:space-between; align-items:flex-start; gap:10px; flex-wrap:wrap; }
.details-header .meta { display:flex; gap:8px; color:var(--muted); font-size:13px; flex-wrap:wrap; }

.alert { background:#231a05; border:1px solid #3d2b08; color:#ffd27a; padding:10px; border-radius:10px; margin-bottom:10px; }

.badge { display:inline-block; padding:4px 10px; border-radius:999px; border:1px solid var(--border); background:var(--panel); font-size:12px; color:var(--muted); }
.badge.status { color:#a5f3fc; border-color:#164e63; background:#082f49; }

.footer { text-align:center; color:var(--muted); padding:26px 0; font-size:12px; }
.actions { display:flex; gap:10px; margin-top:12px; flex-wrap:wrap; }

.empty { text-align:center; color:var(--muted); padding:18px; border:1px dashed var(--border); border-radius:12px; background:#0b1424; }
.empty-illustration { font-size:24px; margin-bottom:8px; }

.elevated { background: #0e1628; border-radius:12px; padding:10px; border:1px solid var(--border); }

/* Collapsible sections */
.collapsible {
  border:1px solid var(--border);
  border-radius:12px;
  background:#0e1628;
  margin-top:12px;
}
.collapsible > summary {
  list-style:none;
  cursor:pointer;
  padding:10px 12px;
  font-weight:600;
  color:#d1d5db;
  display:flex; align-items:center; gap:8px;
  border-bottom:1px solid transparent;
}
.collapsible[open] > summary { border-bottom-color: var(--border); }
.collapsible .content { padding:12px; }
summary::-webkit-details-marker { display:none; }

.caret::before {
  content:"â–¸";
  display:inline-block;
  transform: rotate(-90deg);
  transition: transform .15s ease;
}
details[open] > summary.caret::before {
  transform: rotate(0deg);
}

/* Toasts */
.toasts { position: fixed; inset-inline: 12px; bottom: 14px; display:flex; flex-direction:column; gap:8px; z-index:50; }
.toast {
  background:#0e1628; border:1px solid var(--border); color:var(--fg);
  padding:10px 12px; border-radius:12px; box-shadow: var(--shadow); font-size:14px;
  animation: fadein .2s ease, slideup .2s ease;
}
@keyframes fadein { from{opacity:0} to{opacity:1} }
@keyframes slideup { from{transform: translateY(4px)} to{transform: translateY(0)} }

/* Mobile: collapse big sections by default */
@media (max-width: 640px){
  #membersBlock:not([data-force-open]) { /* default collapsed via JS when opening details */ }
  #scheduleBlock:not([data-force-open]) { /* default collapsed via JS when opening details */ }
}